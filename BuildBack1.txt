campaignTrail_temp.election_json = [
    {
        "model": "campaign_trail.election",
        "pk": 21,
        "fields": {
            "year": 2020,
            "summary": "<p>After a close election, Joe Biden was elected the 46th President of the United States.</p><p>While highly contested among many within the Republican Party, resulting in riots at the Capitol on January 6th to try and overturn Biden's victory, President Biden took office on January 20th 2021.</p><p>President Biden needs to prove to the American people that he can get the country back on track and show our allies abroad that America is behind them. He'll need to remove the stain that the last four years have left behind.<p>But it won't be simple, Biden has long way to go.</p?",
            "image_url": "https://i.imgur.com/h4HQ3un.png",
            "winning_electoral_vote_number": 270,
            "advisor_url": "https://www.jetsimon.com/public/static/images/dillon-stepien.jpg",
            "recommended_reading": "<ul>\n<li><a href=https://www.chicagotribune.com/opinion/editorials/ct-edit-chicago-tribune-biden-endorsement-20200925-lnyxsb5qvrftnjjmj3rnzj33jy-story.html>Our Case For Joe Biden</a></li>\n<li><a href=https://nationalinterest.org/feature/case-trump-166808>The Case For Trump</a></li>\n<li><a href=https://www.npr.org/2020/11/18/935730100/how-biden-won-ramping-up-the-base-and-expanding-margins-in-the-suburbs>How Biden Won: Ramping Up The Base And Expanding Margins In The Suburbs</a></li>\n<li><a href=https://www.prospectmagazine.co.uk/politics/donald-trump-joe-biden-us-election-almost-win-votes-concede>Why Did Trump Almost Win?</a></li>\n<li><a href=https://www.hoover.org/research/no-evidence-voter-fraud-guide-statistical-claims-about-2020-election>No Evidence For Voter Fraud: A Guide To Statistical Claims About The 2020 Election</a></li>\n</ul>",
            "has_visits": 1,
            "no_electoral_majority_image": "https://www.jetsimon.com/public/static/images/2012-no-majority.jpg",
            "creator": "Dan Bryan",
            "display_year": "2024"
        }
    }
]

campaignTrail_temp.candidate_json = [
    {
        "model": "campaign_trail.candidate",
        "pk": 300,
        "fields": {
            "first_name": "Joe",
            "last_name": "Biden",
            "election": 21,
            "party": "Democrat",
            "state": "Delaware",
            "priority": 1,
            "description": "<b><p><i>\"We endure. We overcome. We own the finish line.\"</i></p></b><p>Joe Biden has had a career spanning almost 50 years in politics. He's the man brought in to save America after four disastrous years under Trump. Now, he has to show his critics and America's foes that he has the guts to get America back on track. Dealing with slim majorities in Congress, to needing to get out of the pandemic, to having to combat record inflation, and increasing global conflicts, Biden has a lot on this plate.</p><p>Some believe Biden's too old for the job but people have always underestimated him.</p><p>Now it's time to Build Back Better.</p>",
            "color_hex": "#697ab2",
            "secondary_color_hex": "#90C0FF",
            "is_active": 1,
            "image_url": "https://i.imgur.com/SCsBL81.png",
            "electoral_victory_message": "<h3>Congratulations! You have won the 2020 election.</h3><p>Things may have been closer and more contested than you hoped for, but the final result remains. Can you help bring the country back together after a tumultuous few years? Or will you be seen as a lame duck from the first day -- unable to keep the two wings of your party coordinated? Time will tell.</p>",
            "electoral_loss_message": "<h3>Sorry! You have lost the 2020 election.</h3><p>After an election in which many of your supporters claimed democracy itself was at stake, what happens now? Perhaps the party will need to go in a completely different direction in 2024. As for yourself, it seems that your long, illustrious political career has surely drawn to a close.</p>",
            "no_electoral_majority_message": "<h3>Sorry! You have lost the 2020 election.</h3><p>In spite of the 269-269 tie in the electoral college, Republicans control a majority of state delegations in the House of Representatives. After an election in which many of your supporters claimed democracy itself was at stake, what happens now? Perhaps the party will need to go in a completely different direction in 2024.</p>",
            "description_as_running_mate": "",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 301,
        "fields": {
            "first_name": "Donald",
            "last_name": "Trump",
            "election": 21,
            "party": "Republican",
            "state": "Florida",
            "priority": 2,
            "description": "",
            "color_hex": "#bf4d4e",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/donald-trump-2020.jpg",
            "electoral_victory_message": "<h3>Congratulations! You have won the 2020 election.</h3><p>For the second time in a row, many analysts saw a victory for you as practically impossible. But whatever they say, it is clear that your Make America Great Again agenda has been vindicated. Where do you take things from here?</p>",
            "electoral_loss_message": "<h3>Sorry! You have lost the 2020 election.</h3><p>After an election in which many of your supporters claimed democracy itself was at stake, what happens now? Many analysts believe the party will need to go in a completely different direction next time. As for yourself, will you take these results sitting down, or will you prepare yourself for an epic political comeback in 2024?</p>",
            "no_electoral_majority_message": "<h3>Congratulations! You have won the 2020 election.</h3><p>In spite of the 269-269 tie in the electoral college, Republicans control a majority of state delegations in the House of Representatives. A lot of liberals are absolutely distraught and outraged that the election came down to such a technicality, but hey, those are the rules!</p>",
            "description_as_running_mate": "",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 302,
        "fields": {
            "first_name": "Robert F.",
            "last_name": "Kennedy Jr",
            "election": 21,
            "party": "Independent",
            "state": "California",
            "priority": 3,
            "description": "'",
            "color_hex": "#d9a75f",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 303,
        "fields": {
            "first_name": "Jill",
            "last_name": "Stein",
            "election": 21,
            "party": "Green",
            "state": "Massachusetts",
            "priority": 4,
            "description": "'",
            "color_hex": "#63c085",
            "secondary_color_hex": "#A1FFA1",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 304,
        "fields": {
            "first_name": "Kamala",
            "last_name": "Harris",
            "election": 21,
            "party": "Democrat",
            "state": "California",
            "priority": 5,
            "description": "'",
            "color_hex": "#697ab2",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://i.imgur.com/Q46zv0m.jpeg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<b><i><p>\"The American dream belongs to all of us.\"</b></i><p><p>Kamala Harris is proof that the American dream works. Moving her way up the ranks from District Attorney, to Attorney General of California, then Senator, and then an opponent during the primaries is now the first female Vice President of the United States. She'll be a large part of how you'll move major parts of your agenda forward in the Senate and you're proud that she's apart of the team.</p><p>While she may come off as awkward at points towards the press, Kamala still has her aspirations for the Presidency in the future, whether that'll be in 2024 or 2028. You'll need to give her the proper input so she could build herself for the future. Your successes are her successes too.",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 309,
        "fields": {
            "first_name": "J.D.",
            "last_name": "Vance",
            "election": 21,
            "party": "Republican",
            "state": "Ohio",
            "priority": 10,
            "description": "'",
            "color_hex": "#bf4d4e",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 311,
        "fields": {
            "first_name": "Nicole",
            "last_name": "Shanahan",
            "election": 21,
            "party": "Independent",
            "state": "Shanahan",
            "priority": 12,
            "description": "'",
            "color_hex": "#d9a75f",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 312,
        "fields": {
            "first_name": "Butch",
            "last_name": "Ware",
            "election": 21,
            "party": "Green",
            "state": "California",
            "priority": 13,
            "description": "'",
            "color_hex": "#63c085",
            "secondary_color_hex": "#A1FFA1",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 50000,
        "fields": {
            "first_name": "Marco",
            "last_name": "Rubio",
            "election": 21,
            "party": "Republican",
            "state": "Florida",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#bf4d4e",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 50001,
        "fields": {
            "first_name": "Doug",
            "last_name": "Burgum",
            "election": 21,
            "party": "Republican",
            "state": "North Dakota",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#bf4d4e",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": true
        }
    }
]

campaignTrail_temp.running_mate_json = [
    {
        "model": "campaign_trail.running_mate",
        "pk": 200,
        "fields": {
            "candidate": 300,
            "running_mate": 304
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 205,
        "fields": {
            "candidate": 301,
            "running_mate": 309
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 207,
        "fields": {
            "candidate": 302,
            "running_mate": 311
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 164413,
        "fields": {
            "candidate": 301,
            "running_mate": 50001
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 129725,
        "fields": {
            "candidate": 301,
            "running_mate": 50000
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 168653,
        "fields": {
            "candidate": 303,
            "running_mate": 312
        }
    }
]

campaignTrail_temp.credits = "The BBB Team"

campaignTrail_temp.global_parameter_json = [
    {
        "model": "campaign_trail.global_parameter",
        "pk": 1,
        "fields": {
            "vote_variable": 1.125,
            "max_swing": 0.12,
            "start_point": 0.94,
            "candidate_issue_weight": 10,
            "running_mate_issue_weight": 3,
            "issue_stance_1_max": -0.71,
            "issue_stance_2_max": -0.3,
            "issue_stance_3_max": -0.125,
            "issue_stance_4_max": 0.125,
            "issue_stance_5_max": 0.3,
            "issue_stance_6_max": 0.71,
            "global_variance": 0.01,
            "state_variance": 0.005,
            "question_count": 25,
            "default_map_color_hex": "#C9C9C9",
            "no_state_map_color_hex": "#999999"
        }
    }
]

campaignTrail_temp.opponents_default_json = [
    {
        "election": 21,
        "candidates": [
            300,
            301,
            302,
            303
        ]
    }
]

campaignTrail_temp.opponents_weighted_json = [
    {
        "election": 21,
        "candidates": [
            300,
            301,
            302,
            303
        ]
    }
]

campaignTrail_temp.temp_election_list = [
    {
        "id": 21,
        "year": 2020,
        "is_premium": 0,
        "display_year": "2024"
    }
]

jet_data = {
    "headerColor": "#05004d",
    "windowColor": "#05004d",
    "containerColor": "#0e0e0e",
    "innerWindowColor": "#ffffff",
    "bannerImageUrl": "https://i.imgur.com/3RmCMBN.png",
    "backgroundImageUrl": "https://i.imgur.com/p3ECCHJ.png",
    "endingTextColor": "#000000",
    "customQuote": ""
}

//#startcode
quotes = ["”We're in a Battle for the Soul of our Nation.” - Joe Biden", "”We are America, second to none, and we own the finish line. Don't forget it.” - Joe Biden", "”Failure at some point in your life is inevitable, but giving up is unforgivable.” - Joe Biden"]
            customquote = quotes[Math.floor((Math.random() * quotes.length))]

            corrr = `\n<h2>Build Back Better</h2><font id='wittyquote' size='3.5' color='#ffffff'><em>` + customquote + `</em></font>`



nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#05004d";

nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#05004d";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

$(".container")[0].style.backgroundColor = "#0e0e0e";

document.getElementById("header").src = "https://i.imgur.com/3RmCMBN.png";

document.body.background = "https://i.imgur.com/p3ECCHJ.png";

document.head.innerHTML += "<style>#results_container {color:#000000;} .inner_window_w_desc {background-color:#ffffff!important;}</style>";

  // Soundtrack
  
  // Initialise custom music
  
  $("#music_player")[0].children[0].style.display="none"
  $("#music_player")[0].children[1].style.display="none"
  
  document.getElementById("modLoadReveal").style.display="none"
  document.getElementById("modloaddiv").style.display="none"
  
  musicBox = document.getElementById("music_player")
  musicBox.style.display=""
  
  var trackSel;
  e = campaignTrail_temp
  e.selectedSoundtrack = 0
  
  toTime = (seconds) => {
  var date = new Date(null);
  date.setSeconds(seconds);
  return date.toISOString().substr(11, 8);
  }
  
  generateTime = () => {
    // Get the audio element
    var audio = document.getElementById("campaigntrailmusic");
  
    timeTracker = document.createElement("div");
    timeTracker.style = `
      text-align:left;
      border-style:solid;
      border-width:3px;
      height:150px;
      width:200px;
      background-color:#999999;
      float:right;
      padding: 10px;
    `
    $("#trackSelParent")[0].prepend(timeTracker);
    $("#trackSelParent")[0].prepend(document.createElement("br"));
  
    // Create a new element to display the current position of the audio
    var positionDisplay = document.createElement("gg");
    positionDisplay.id = "position-display";
  
    // Create a new slider element to change the time
    var timeSlider = document.createElement("input");
    timeSlider.type = "range";
    timeSlider.min = 0;
    timeSlider.max = 1;
    timeSlider.step = 0.001;
    timeSlider.value = 0;
    timeSlider.style.width = "200px";
    timeSlider.id = "time-slider";
  
    var pausePlay = document.createElement("button");
    pausePlay.id = "position-display";
    pausePlay.innerHTML = "<b>Pause</b>"
    pausePlay.style.width = "100%";
  
  
    pausePlay.addEventListener("click", event => {
      event.preventDefault();
      updatePositionDisplay();
      let audio = document.getElementById("campaigntrailmusic");
      if (audio.paused) {
        audio.play();
        event.target.innerHTML = "<b>Pause</b>";
        return;
      }
      audio.pause();
      event.target.innerHTML = "<b>Play</b>";
      return;
    })
  
    var volumeLabel = document.createElement("gg");
    volumeLabel.id = "volume-label";
    volumeLabel.innerHTML = "<br><b>Volume: </b>"
  
    var volumeSlider = document.createElement("input");
    volumeSlider.type = "range";
    volumeSlider.min = 0;
    volumeSlider.max = 1;
    volumeSlider.step = 0.001;
    volumeSlider.value = 0;
    volumeSlider.style.width = "200px";
    volumeSlider.id = "volume-slider";
  
    volumeSlider.value = audio.volume;
  
    timeTracker.appendChild(pausePlay);
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(positionDisplay);
    timeTracker.appendChild(timeSlider);
    timeTracker.appendChild(volumeLabel);
    timeTracker.appendChild(volumeSlider);
  
    updatePositionDisplay();
  
    //for (let i = 0; i < 10; i++)
    //timeTracker.append(document.createElement("br"));
  
  
    // Function to update the position display
    function updatePositionDisplay() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
    }
  
    // Function to change the time of the audio
    function changeTime() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      audio.currentTime = timeSlider.value * audio.duration;
    }
  
    updateVolume = event => {
      audio.volume = event.target.value;
    }
    
    // Update the position display and slider every second
    setInterval(updatePositionDisplay, 1000);
  
    // Listen for changes to the time slider and change the time of the audio
    timeSlider.addEventListener("input", changeTime);
    volumeSlider.addEventListener("input", updateVolume)
  }
  
  function newMusicPlayer() {
  trackSel = document.createElement("div");
  trackSel.id = "trackSelParent"
  let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
  z += `<b><select id='selectSoundtrack'><option value='`+soundtracks[e.selectedSoundtrack].name+`'>`+soundtracks[e.selectedSoundtrack].name+"</option>"
  for (i in soundtracks) {
    if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
      z += `<option value='`+soundtracks[i].name+`'>`+soundtracks[i].name+`</option>`
    }
  }
  z += `</select></b><br><br>`
  // <label><input type="radio" name="option" value="option1">Option 1</label><br>
  for (i in soundtracks[e.selectedSoundtrack].tracklist) {
    let a = soundtracks[e.selectedSoundtrack].tracklist[i]
    let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="`+i+`">`+a.name+`</label><br>`
    z += b
  }
  z += "</div><br><br>"
  trackSel.innerHTML = z
  
  // select correct song
  
  musicBox.appendChild(trackSel);
  Array.from(document.getElementById("trackSel").children).filter(f=>{
    return f.tagName == "LABEL"
  }).map(f=>f.children[0])[0].checked = true
  
  // set soundtrack changer
  
  soundtrackSelector = document.getElementById("selectSoundtrack")
  soundtrackSelector.onchange = function() {
    for (i in soundtracks) {
      if (soundtracks[i].name == soundtrackSelector.value) {
        e.selectedSoundtrack = i
        break
      }
    }
    document.getElementById("trackSelParent").remove()
    newMusicPlayer()
  }
  
  var matches = document.querySelectorAll('.trackSelector');
  
  for (match in matches) {
    matches[match].onchange = function() {
      audio = $("#campaigntrailmusic")[0];
      audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
      audio.currentTime = 0
    }
  }
  
  musicBox.children[2].loop = false
  musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url
  
  musicBox.children[2].onended = function() {
    console.log("next track")
    let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
    let newSel = clamp(selected+1, soundtracks[e.selectedSoundtrack].tracklist.length-1, 0)
    let buttons = Array.from(document.getElementById("trackSel").children).filter(f=>{
      return f.tagName == "LABEL"
    }).map(f=>f.children[0])
    //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
    buttons[newSel].click()
  }
  
  for (w = 0; w < 7; w++) {
    document.getElementById("trackSelParent").appendChild(document.createElement("br"))
  }
  
  generateTime();
  }
  
  clamp = function(a, max, min, overflow=true) {
  if (overflow) {
    return a > max ? min : a < min ? max : a;
  }
  return a > max ? max : a < min ? min : a;
  }
  
  
  // Track list
  
  var soundtracks = {
  0: {
    name: "Joe.",
    tracklist: [
      {
        "name": "Bill Withers - Lovely Day",
        "url": "https://od.lk/s/MV8zNTA3NDczNjdf/Bill%20Withers%20-%20Lovely%20Day%20%28Official%20Audio%29.mp3"
      },
      {
        "name": "Curtis Mayfield - Move on Up",
        "url": "https://od.lk/s/MV8zNTA3NDczNjZf/Move%20on%20Up%20%28Single%20Edit%29.mp3"
      },
     {
        "name": "Sly & The Family Stone - Everyday People",
        "url": "https://od.lk/s/MV8zNTA3NDczNjNf/Sly%20%26%20The%20Family%20Stone%20-%20Everyday%20People%20%28Audio%29.mp3"
      },
      {
        "name": "Stevie Wonder - All I Do",
        "url": "https://od.lk/s/MV8zNTA3NDczNjhf/All%20I%20Do.mp3"
      },
      {
        "name": "The Staple Singers - We The People",
        "url": "https://od.lk/s/MV8zNTA3NDczNTlf/The%20Staple%20Singers%20-%20We%20The%20People%20%28Official%20Audio%29.mp3"
      },
      {
        "name": "Jackie Wilson - (Your Love Keeps Lifting Me) Higher and Higher",
        "url": "https://od.lk/s/MV8zNTA3NDczNjlf/%5BYour%20Love%20Keeps%20Lifting%20Me%5D%20Higher%20%26%20Higher.mp3"
      },
      {
        "name": "David Bowie - Heroes",
        "url": "https://od.lk/s/MV8zNTA3NDczNjFf/Heroes%20%282017%20Remaster%29.mp3"
      }
    ]
  }
  }
  
  // Set up new music player
  
  newMusicPlayer()

//#endcode

  
  HistHexcolour=["#BF4D4E","#697AB2","#63C085","#d9a75f"];
  HistName=[" Donald Trump"," Kamala Harris"," Jill Stein", " Robert F. Kennedy Jr"];
  HistEV=[312,226,0,0];
  HistPV=["77,303,573","75,019,257","868,945","757,371"];
  HistPVP=["49.9%","48.4%","0.6%","0.5%"];
